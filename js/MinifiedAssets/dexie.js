var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(q,w,X){q!=Array.prototype&&q!=Object.prototype&&(q[w]=X.value)};$jscomp.getGlobal=function(q){return"undefined"!=typeof window&&window===q?q:"undefined"!=typeof global&&null!=global?global:q};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var q=0;return function(w){return $jscomp.SYMBOL_PREFIX+(w||"")+q++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var q=$jscomp.global.Symbol.iterator;q||(q=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[q]&&$jscomp.defineProperty(Array.prototype,q,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(q){var w=0;return $jscomp.iteratorPrototype(function(){return w<q.length?{done:!1,value:q[w++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(q){$jscomp.initSymbolIterator();q={next:q};q[$jscomp.global.Symbol.iterator]=function(){return this};return q};
(function(q,w){"object"===typeof exports&&"undefined"!==typeof module?module.exports=w():"function"===typeof define&&define.amd?define(w):q.Dexie=w()})(this,function(){function q(a,b){if("object"!==typeof b)return a;A(b).forEach(function(c){a[c]=b[c]});return a}function w(a,b){"function"===typeof b&&(b=b(Ab(a)));A(b).forEach(function(c){X(a,c,b[c])})}function X(a,b,c,d){cc(a,b,q(c&&M.call(c,"get")&&"function"===typeof c.get?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},
d))}function P(a){return{from:function(b){a.prototype=Object.create(b.prototype);X(a.prototype,"constructor",a);return{extend:w.bind(null,a.prototype)}}}}function Bb(a,b){var c;return dc(a,b)||(c=Ab(a))&&Bb(c,b)}function Cb(a,b){return b(a)}function La(a){if(!a)throw Error("Assertion Failed");}function Db(a){v.setImmediate?setImmediate(a):setTimeout(a,0)}function Eb(a,b){return a.reduce(function(a,d,f){(d=b(d,f))&&(a[d[0]]=d[1]);return a},{})}function Fb(a,b){return function(){try{a.apply(this,arguments)}catch(c){b(c)}}}
function Ma(a,b,c){try{a.apply(null,c)}catch(d){b&&b(d)}}function Q(a,b){if(M.call(a,b))return a[b];if(!b)return a;if("string"!==typeof b){for(var c=[],d=0,f=b.length;d<f;++d){var m=Q(a,b[d]);c.push(m)}return c}c=b.indexOf(".");if(-1!==c)return d=a[b.substr(0,c)],void 0===d?void 0:Q(d,b.substr(c+1))}function I(a,b,c){if(a&&void 0!==b&&!("isFrozen"in Object&&Object.isFrozen(a)))if("string"!==typeof b&&"length"in b){La("string"!==typeof c&&"length"in c);for(var d=0,f=b.length;d<f;++d)I(a,b[d],c[d])}else f=
b.indexOf("."),-1!==f?(d=b.substr(0,f),b=b.substr(f+1),""===b?void 0===c?delete a[d]:a[d]=c:((f=a[d])||(f=a[d]={}),I(f,b,c))):void 0===c?delete a[b]:a[b]=c}function fb(a){var b={},c;for(c in a)M.call(a,c)&&(b[c]=a[c]);return b}function oa(a){if(!a||"object"!==typeof a)return a;if(T(a)){var b=[];for(var c=0,d=a.length;c<d;++c)b.push(oa(a[c]))}else if(0<=ec.indexOf(a.constructor))b=a;else for(c in b=a.constructor?Object.create(a.constructor.prototype):{},a)M.call(a,c)&&(b[c]=oa(a[c]));return b}function gb(a,
b,c,d){c=c||{};d=d||"";A(a).forEach(function(f){if(M.call(b,f)){var m=a[f],k=b[f];"object"===typeof m&&"object"===typeof k&&m&&k&&""+m.constructor===""+k.constructor?gb(m,k,c,d+f+"."):m!==k&&(c[d+f]=b[f])}else c[d+f]=void 0});A(b).forEach(function(f){M.call(a,f)||(c[d+f]=b[f])});return c}function pa(a){var b,c,d;if(1===arguments.length){if(T(a))return a.slice();if(this===za&&"string"===typeof a)return[a];if(d=fc(a)){for(c=[];b=d.next(),!b.done;)c.push(b.value);return c}if(null==a)return[a];b=a.length;
if("number"===typeof b){for(c=Array(b);b--;)c[b]=a[b];return c}return[a]}b=arguments.length;for(c=Array(b);b--;)c[b]=arguments[b];return c}function Gb(a,b){da=a;Hb=b}function ea(){if(gc)try{throw ea.arguments,Error();}catch(a){return a}return Error()}function qa(a,b){var c=a.stack;if(!c)return"";b=b||0;0===c.indexOf(a.name)&&(b+=(a.name+a.message).split("\n").length);return c.split("\n").slice(b).filter(Hb).map(function(a){return"\n"+a}).join("")}function hc(a,b){return function(){console.warn(a+
" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+qa(ea(),1));return b.apply(this,arguments)}}function L(a,b){this._e=ea();this.name=a;this.message=b}function ic(a,b){return a+". Errors: "+b.map(function(a){return a.toString()}).filter(function(a,b,f){return f.indexOf(a)===b}).join("\n")}function Za(a,b,c,d){this._e=ea();this.failures=b;this.failedKeys=d;this.successCount=c}function Na(a,b){this._e=ea();this.name="BulkError";this.failures=b;this.message=ic(a,b)}function u(){}
function Oa(a){return a}function jc(a,b){return null==a||a===Oa?b:function(c){return b(a(c))}}function U(a,b){return function(){a.apply(this,arguments);b.apply(this,arguments)}}function kc(a,b){return a===u?b:function(){var c=a.apply(this,arguments);void 0!==c&&(arguments[0]=c);var d=this.onsuccess,f=this.onerror;this.onerror=this.onsuccess=null;var m=b.apply(this,arguments);d&&(this.onsuccess=this.onsuccess?U(d,this.onsuccess):d);f&&(this.onerror=this.onerror?U(f,this.onerror):f);return void 0!==
m?m:c}}function lc(a,b){return a===u?b:function(){a.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null;b.apply(this,arguments);c&&(this.onsuccess=this.onsuccess?U(c,this.onsuccess):c);d&&(this.onerror=this.onerror?U(d,this.onerror):d)}}function mc(a,b){return a===u?b:function(c){var d=a.apply(this,arguments);q(c,d);var f=this.onsuccess,m=this.onerror;this.onerror=this.onsuccess=null;var k=b.apply(this,arguments);f&&(this.onsuccess=this.onsuccess?U(f,this.onsuccess):
f);m&&(this.onerror=this.onerror?U(m,this.onerror):m);return void 0===d?void 0===k?void 0:k:q(d,k)}}function nc(a,b){return a===u?b:function(){return!1===b.apply(this,arguments)?!1:a.apply(this,arguments)}}function Ib(a,b){return a===u?b:function(){var c=a.apply(this,arguments);if(c&&"function"===typeof c.then){for(var d=this,f=arguments.length,m=Array(f);f--;)m[f]=arguments[f];return c.then(function(){return b.apply(d,m)})}return b.apply(this,arguments)}}function k(a,b,c){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");
this._listeners=[];this.onuncatched=u;this._lib=!1;var d=this._PSD=n;da&&(this._stackHolder=ea(),this._prev=null,this._numPrev=0);if("function"!==typeof a){if(a!==ra)throw new TypeError("Not a function");this._state=b;this._value=c;!1===this._state&&Aa(this,this._value)}else this._value=this._state=null,++d.ref,Jb(this,a)}function Kb(a,b,c,d,f){this.onFulfilled="function"===typeof a?a:null;this.onRejected="function"===typeof b?b:null;this.resolve=c;this.reject=d;this.psd=f}function Jb(a,b){try{b(function(b){if(null===
a._state){if(b===a)throw new TypeError("A promise cannot be resolved with itself.");var c=a._lib&&Ba();b&&"function"===typeof b.then?Jb(a,function(a,c){b instanceof k?b._then(a,c):b.then(a,c)}):(a._state=!0,a._value=b,Lb(a));c&&Y()}},Aa.bind(null,a))}catch(c){Aa(a,c)}}function Aa(a,b){Ca.push(b);if(null===a._state){var c=a._lib&&Ba();b=hb(b);a._state=!1;a._value=b;da&&null!==b&&"object"===typeof b&&!b._promise&&Ma(function(){var c=Bb(b,"stack");b._promise=a;X(b,"stack",{get:function(){return ib?c&&
(c.get?c.get.apply(b):c.value):a.stack}})});oc(a);Lb(a);c&&Y()}}function Lb(a){var b=a._listeners;a._listeners=[];for(var c=0,d=b.length;c<d;++c)jb(a,b[c]);a=a._PSD;--a.ref||a.finalize();0===Z&&(++Z,fa(function(){0===--Z&&kb()},[]))}function jb(a,b){if(null===a._state)a._listeners.push(b);else{var c=a._state?b.onFulfilled:b.onRejected;if(null===c)return(a._state?b.resolve:b.reject)(a._value);++b.psd.ref;++Z;fa(pc,[c,a,b])}}function pc(a,b,c){try{lb=b;var d=b._value;if(b._state)var f=a(d);else if(Ca.length&&
(Ca=[]),f=a(d),-1===Ca.indexOf(d))a:for(var m=K.length;m;)if(K[--m]._value===b._value){K.splice(m,1);break a}c.resolve(f)}catch(ca){c.reject(ca)}finally{lb=null,0===--Z&&kb(),--c.psd.ref||c.psd.finalize()}}function Mb(a,b,c){if(b.length===c)return b;var d="";if(!1===a._state){var f=a._value;if(null!=f){var m=f.name||"Error";var k=f.message||f;d=qa(f,0)}else m=f,k="";b.push(m+(k?": "+k:"")+d)}da&&((d=qa(a._stackHolder,2))&&-1===b.indexOf(d)&&b.push(d),a._prev&&Mb(a._prev,b,c));return b}function Nb(a,
b){var c=b?b._numPrev+1:0;100>c&&(a._prev=b,a._numPrev=c)}function Da(){Ba()&&Y()}function Ba(){var a=mb;Ea=mb=!1;return a}function Y(){var a;do for(;0<sa.length;){var b=sa;sa=[];var c=b.length;for(a=0;a<c;++a){var d=b[a];d[0].apply(null,d[1])}}while(0<sa.length);Ea=mb=!0}function kb(){var a=K;K=[];a.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});a=ha.slice(0);for(var b=a.length;b;)a[--b]()}function qc(a){function b(){a();ha.splice(ha.indexOf(b),1)}ha.push(b);++Z;fa(function(){0===
--Z&&kb()},[])}function oc(a){K.some(function(b){return b._value===a._value})||K.push(a)}function ta(a){return new k(ra,!1,a)}function x(a,b){var c=n;return function(){var d=Ba(),f=n;try{return N(c,!0),a.apply(this,arguments)}catch(m){b&&b(m)}finally{N(f,!1),d&&Y()}}}function ua(a,b,c,d){var f=n,m=Object.create(f);m.parent=f;m.ref=0;m.global=!1;m.id=++rc;var r=aa.env;m.env=nb?{Promise:k,PromiseProp:{value:k,configurable:!0,writable:!0},all:k.all,race:k.race,resolve:k.resolve,reject:k.reject,nthen:Ob(r.nthen,
m),gthen:Ob(r.gthen,m)}:{};b&&q(m,b);++f.ref;m.finalize=function(){--this.parent.ref||this.parent.finalize()};a=Pa(m,a,c,d);0===m.ref&&m.finalize();return a}function ob(){z.id||(z.id=++sc);++z.awaits;z.echoes+=7;return z.id}function $a(a){!z.awaits||a&&a!==z.id||(0===--z.awaits&&(z.id=0),z.echoes=7*z.awaits)}function Pb(a){return z.echoes&&a&&a.constructor===Qb?(ob(),a.then(function(a){$a();return a},function(a){$a();return E(a)})):a}function tc(a){++pb;z.echoes&&0!==--z.echoes||(z.echoes=z.id=0);
Fa.push(n);N(a,!0)}function uc(){var a=Fa[Fa.length-1];Fa.pop();N(a,!1)}function N(a,b){var c=n;(b?!z.echoes||qb++&&a===n:!qb||--qb&&a===n)||vc.call(rb,b?tc.bind(null,a):uc);if(a!==n&&(n=a,c===aa&&(aa.env=Rb()),nb)){var d=aa.env.Promise,f=a.env;ia.then=f.nthen;d.prototype.then=f.gthen;if(c.global||a.global)Object.defineProperty(v,"Promise",f.PromiseProp),d.all=f.all,d.race=f.race,d.resolve=f.resolve,d.reject=f.reject}}function Rb(){var a=v.Promise;return nb?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(v,
"Promise"),all:a.all,race:a.race,resolve:a.resolve,reject:a.reject,nthen:ia.then,gthen:a.prototype.then}:{}}function Pa(a,b,c,d,f){var k=n;try{return N(a,!0),b(c,d,f)}finally{N(k,!1)}}function ja(a,b,c){return"function"!==typeof a?a:function(){var d=n;c&&ob();N(b,!0);try{return a.apply(this,arguments)}finally{N(d,!1)}}}function Ob(a,b){return function(c,d){return a.call(this,ja(c,b,!1),ja(d,b,!1))}}function Sb(a,b){try{var c=b.onuncatched(a)}catch(f){}if(!1!==c)try{c={promise:b,reason:a};if(v.document&&
document.createEvent){var d=document.createEvent("Event");d.initEvent(Tb,!0,!0);q(d,c)}else v.CustomEvent&&(d=new CustomEvent(Tb,{detail:c}),q(d,c));if(d&&v.dispatchEvent&&(dispatchEvent(d),!v.PromiseRejectionEvent&&v.onunhandledrejection))try{v.onunhandledrejection(d)}catch(f){}d.defaultPrevented||console.warn("Unhandled rejection: "+(a.stack||a))}catch(f){}}function ab(a){function b(a,b,k){if("object"===typeof a)return c(a);b||(b=nc);k||(k=u);var m={subscribers:[],fire:k,subscribe:function(a){-1===
m.subscribers.indexOf(a)&&(m.subscribers.push(a),m.fire=b(m.fire,a))},unsubscribe:function(a){m.subscribers=m.subscribers.filter(function(b){return b!==a});m.fire=m.subscribers.reduce(b,k)}};return d[a]=f[a]=m}function c(a){A(a).forEach(function(c){var d=a[c];if(T(d))b(c,a[c][0],a[c][1]);else if("asap"===d)var f=b(c,Oa,function(){for(var a=arguments.length,b=Array(a);a--;)b[a]=arguments[a];f.subscribers.forEach(function(a){Db(function(){a.apply(null,b)})})});else throw new r.InvalidArgument("Invalid event config");
})}var d={},f=function(b,c){if(c){for(var f=arguments.length,k=Array(f-1);--f;)k[f-1]=arguments[f];d[b].subscribe.apply(null,k);return a}if("string"===typeof b)return d[b]};f.addEventType=b;for(var k=1,n=arguments.length;k<n;++k)b(arguments[k]);return f}function B(a,b){function c(a){this._cfg={version:a,storesSource:null,dbschema:{},tables:{},contentUpgrade:null};this.stores({})}function d(a,b,c){var e=t._createTransaction("readwrite",Ga,F);e.create(b);e._completion["catch"](c);var h=e._reject.bind(e);
ua(function(){n.trans=e;0===a?(A(F).forEach(function(a){ca(b,a,F[a].primKey,F[a].indexes)}),k.follow(function(){return t.on.populate.fire(e)})["catch"](h)):f(a,e,b)["catch"](h)})}function f(a,b,c){function e(){return h.length?k.resolve(h.shift()(b.idbtrans)).then(e):k.resolve()}var h=[],d=Ha.filter(function(b){return b._cfg.version===a})[0];if(!d)throw new r.Upgrade("Dexie specification of currently installed DB version is missing");F=t._dbSchema=d._cfg.dbschema;var g=!1;Ha.filter(function(b){return b._cfg.version>
a}).forEach(function(a){h.push(function(){var e=F,h=a._cfg.dbschema;ha(e,c);ha(h,c);F=t._dbSchema=h;e=m(e,h);e.add.forEach(function(a){ca(c,a[0],a[1].primKey,a[1].indexes)});e.change.forEach(function(a){if(a.recreate)throw new r.Upgrade("Not yet support for changing primary key");var b=c.objectStore(a.name);a.add.forEach(function(a){N(b,a)});a.change.forEach(function(a){b.deleteIndex(a.name);N(b,a)});a.del.forEach(function(a){b.deleteIndex(a)})});if(a._cfg.contentUpgrade)return g=!0,k.follow(function(){a._cfg.contentUpgrade(b)})});
h.push(function(b){if(!g||!xc)for(var e=a._cfg.dbschema,h=0;h<b.db.objectStoreNames.length;++h){var l=b.db.objectStoreNames[h];null==e[l]&&b.db.deleteObjectStore(l)}})});return e().then(function(){z(F,c)})}function m(a,b){var e={del:[],add:[],change:[]},h;for(h in a)b[h]||e.del.push(h);for(h in b){var c=a[h],d=b[h];if(c){var g={name:h,def:d,recreate:!1,del:[],add:[],change:[]};if(c.primKey.src!==d.primKey.src)g.recreate=!0,e.change.push(g);else{c=c.idxByName;d=d.idxByName;for(var l in c)d[l]||g.del.push(l);
for(l in d){var p=c[l],y=d[l];p?p.src!==y.src&&g.change.push(y):g.add.push(y)}(0<g.del.length||0<g.add.length||0<g.change.length)&&e.change.push(g)}}else e.add.push([h,d])}return e}function ca(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});d.forEach(function(a){N(e,a)});return e}function z(a,b){A(a).forEach(function(e){b.db.objectStoreNames.contains(e)||ca(b,e,a[e].primKey,a[e].indexes)})}function N(a,b){a.createIndex(b.name,b.keyPath,
{unique:b.unique,multiEntry:b.multi})}function U(a,b,c){if(Ra||n.letThrough){var e=t._createTransaction(a,b,F);try{e.create()}catch(Qa){return E(Qa)}return e._promise(a,function(a,b){return ua(function(){n.trans=e;return c(a,b,e)})}).then(function(a){return e._completion.then(function(){return a})})}if(!ba){if(!ia)return E(new r.DatabaseClosed);t.open()["catch"](u)}return Sa.then(function(){return U(a,b,c)})}function Z(a,b,c){var e=arguments.length;if(2>e)throw new r.InvalidArgument("Too few arguments");
for(var h=Array(e-1);--e;)h[e-1]=arguments[e];c=h.pop();e=Ub.apply([],h);return[a,e,c]}function K(a,b,c){this.name=a;this.schema=b;this._tx=c;this.hook=R[a]?R[a].hook:ab(null,{creating:[kc,u],reading:[jc,Oa],updating:[mc,u],deleting:[lc,u]})}function L(a,b,c){return(c?db:J)(function(e){a.push(e);b&&b()})}function aa(a,b,c,d,Qa){return new k(function(e,g){var l=c.length,h=l-1;if(0===l)return e();if(d){var y,bb=db(g),wc=Ia(null);Ma(function(){for(var g=0;g<l;++g){y={onsuccess:null,onerror:null};var d=
c[g];Qa.call(y,d[0],d[1],b);d=a["delete"](d[0]);d._hookCtx=y;d.onerror=bb;d.onsuccess=g===h?Ia(e):wc}},function(a){y.onerror&&y.onerror(a);throw a;})}else for(var f=0;f<l;++f){var V=a["delete"](c[f]);V.onerror=J(g);f===h&&(V.onsuccess=x(function(){return e()}))}})}function va(a,b,c,d){var e=this;this.db=t;this.mode=a;this.storeNames=b;this.idbtrans=null;this.on=ab(this,"complete","error","abort");this.parent=d||null;this.active=!0;this._reculock=0;this._blockedFuncs=[];this._waitingQueue=this._waitingFor=
this._reject=this._resolve=null;this._spinCount=0;this._completion=new k(function(a,b){e._resolve=a;e._reject=b});this._completion.then(function(){e.active=!1;e.on.complete.fire()},function(a){var b=e.active;e.active=!1;e.on.error.fire(a);e.parent?e.parent._reject(a):b&&e.idbtrans&&e.idbtrans.abort();return E(a)})}function la(a,b,c){this._ctx={table:a,index:":id"===b?null:b,or:c}}function G(a,b){var e=null,c=null;if(b)try{e=b()}catch(g){c=g}var h=a._ctx,d=h.table;this._ctx={table:d,index:h.index,
isPrimKey:!h.index||d.schema.primKey.keyPath&&h.index===d.schema.primKey.name,range:e,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:c,or:h.or,valueMapper:d.hook.reading.fire}}function P(a,b){return!(a.filter||a.algorithm||a.or)&&(b?a.justLimit:!a.replayFilter)}function ra(a,b){return a._cfg.version-b._cfg.version}function fa(a,b,c){b.forEach(function(b){var e=c[b];a.forEach(function(a){b in a||(a===va.prototype||
a instanceof va?X(a,b,{get:function(){return this.table(b)}}):a[b]=new K(b,e))})})}function sa(a){a.forEach(function(a){for(var b in a)a[b]instanceof K&&delete a[b]})}function qa(a,b,c,d,f,V){var g=x(V?function(a,b,g){return c(V(a),b,g)}:c,f);a.onerror||(a.onerror=J(f));a.onsuccess=b?Fb(function(){var e=a.result;if(e){var c=function(){e["continue"]()};b(e,function(a){c=a},d,f)&&g(e.value,e,function(a){c=a});c()}else d()},f):Fb(function(){var b=a.result;if(b){var e=function(){b["continue"]()};g(b.value,
b,function(a){e=a});e()}else d()},f)}function Ba(a){var b=[];a.split(",").forEach(function(a){a=a.trim();var e=a.replace(/([&*]|\+\+)/g,""),c=/^\[/.test(e)?e.match(/^\[(.*)\]$/)[1].split("+"):e;b.push(new Ja(e,c||null,/&/.test(a),/\*/.test(a),/\+\+/.test(a),T(c),/\./.test(a)))});return b}function S(a,b){return H.cmp(a,b)}function Y(a,b){return H.cmp(b,a)}function Ca(a,b){return a<b?-1:a===b?0:1}function Da(a,b){return a>b?-1:a===b?0:1}function wa(a,b){return a?b?function(){return a.apply(this,arguments)&&
b.apply(this,arguments)}:a:b}function Ea(){t.verno=C.version/10;t._dbSchema=F={};Ga=sb.call(C.objectStoreNames,0,void 0);if(0!==Ga.length){var a=C.transaction(tb(Ga),"readonly");Ga.forEach(function(b){for(var e=a.objectStore(b),c=e.keyPath,h=c&&"string"===typeof c&&-1!==c.indexOf("."),d=new Ja(c,c||"",!1,!1,!!e.autoIncrement,c&&"string"!==typeof c,h),g=[],l=0;l<e.indexNames.length;++l){var p=e.index(e.indexNames[l]);h=(c=p.keyPath)&&"string"===typeof c&&-1!==c.indexOf(".");c=new Ja(p.name,c,!!p.unique,
!!p.multiEntry,!1,c&&"string"!==typeof c,h);g.push(c)}F[b]=new ub(b,d,g,{})});fa([R],A(F),F)}}function ha(a,b){for(var e=b.db.objectStoreNames,c=0;c<e.length;++c){var h=e[c],d=b.objectStore(h);eb="getAll"in d;for(var g=0;g<d.indexNames.length;++g){var l=d.indexNames[g],p=d.index(l).keyPath;p="string"===typeof p?p:"["+sb.call(p,void 0,void 0).join("+")+"]";a[h]&&(p=a[h].idxByName[p])&&(p.name=l)}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&
v instanceof v.WorkerGlobalScope&&604>[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]&&(eb=!1)}function ta(a){t.on("blocked").fire(a);Ta.filter(function(a){return a.name===t.name&&a!==t&&!a._vcFired}).map(function(b){return b.on("versionchange").fire(a)})}var xa=B.dependencies;xa=q({addons:B.addons,autoOpen:!0,indexedDB:xa.indexedDB,IDBKeyRange:xa.IDBKeyRange},b);var Fa=xa.addons,ia=xa.autoOpen,H=xa.indexedDB,W=xa.IDBKeyRange,F=this._dbSchema={},Ha=[],Ga=[],R={},C=null,D=null,ba=!1,ya=null,
Ra=!1,t=this,ja,Sa=new k(function(a){ja=a}),ma,na=new k(function(a,b){ma=b}),Ua=!0,Aa=!!Vb(H),eb;this.version=function(a){if(C||ba)throw new r.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=Ha.filter(function(b){return b._cfg.version===a})[0];if(b)return b;b=new c(a);Ha.push(b);Ha.sort(ra);Ua=!1;return b};q(c.prototype,{stores:function(a){this._cfg.storesSource=this._cfg.storesSource?q(this._cfg.storesSource,a):a;var b={};Ha.forEach(function(a){q(b,a._cfg.storesSource)});
a=this._cfg.dbschema={};this._parseStoresSpec(b,a);F=t._dbSchema=a;sa([R,t,va.prototype]);fa([R,t,va.prototype,this._cfg.tables],A(a),a);Ga=A(a);return this},upgrade:function(a){this._cfg.contentUpgrade=a;return this},_parseStoresSpec:function(a,b){A(a).forEach(function(c){if(null!==a[c]){var e={},d=Ba(a[c]),h=d.shift();if(h.multi)throw new r.Schema("Primary key cannot be multi-valued");h.keyPath&&I(e,h.keyPath,h.auto?0:h.keyPath);d.forEach(function(a){if(a.auto)throw new r.Schema("Only primary key can be marked as autoIncrement (++)");
if(!a.keyPath)throw new r.Schema("Index must have a name and cannot be an empty string");I(e,a.keyPath,a.compound?a.keyPath.map(function(){return""}):"")});b[c]=new ub(c,h,d,e)}})}});this._allTables=R;this._createTransaction=function(a,b,c,d){return new va(a,b,c,d)};this._whenReady=function(a){return Ra||n.letThrough?a():(new k(function(a,b){if(!ba){if(!ia){b(new r.DatabaseClosed);return}t.open()["catch"](u)}Sa.then(a,b)})).then(a)};this.verno=0;this.open=function(){if(ba||C)return Sa.then(function(){return D?
E(D):t});da&&(na._stackHolder=ea());ba=!0;D=null;Ra=!1;var b=ja,c=null;return k.race([na,new k(function(b,e){if(!H)throw new r.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var h=Ua?H.open(a):H.open(a,Math.round(10*t.verno));if(!h)throw new r.MissingAPI("IndexedDB API not available");h.onerror=J(e);h.onblocked=x(ta);h.onupgradeneeded=x(function(b){c=h.transaction;
Ua&&!t._allowEmptyDB?(h.onerror=Va,c.abort(),h.result.close(),b=H.deleteDatabase(a),b.onsuccess=b.onerror=x(function(){e(new r.NoSuchDatabase("Database "+a+" doesnt exist"))})):(c.onerror=J(e),d((b.oldVersion>Math.pow(2,62)?0:b.oldVersion)/10,c,e,h))},e);h.onsuccess=x(function(){c=null;C=h.result;Ta.push(t);if(Ua)Ea();else if(0<C.objectStoreNames.length)try{ha(F,C.transaction(tb(C.objectStoreNames),"readonly"))}catch(V){}C.onversionchange=x(function(a){t._vcFired=!0;t.on("versionchange").fire(a)});
Aa||"__dbnames"===a||Wa.dbnames.put({name:a})["catch"](u);b()},e)})]).then(function(){ya=[];return k.resolve(B.vip(t.on.ready.fire)).then(function bb(){if(0<ya.length){var a=ya.reduce(Ib,u);ya=[];return k.resolve(B.vip(a)).then(bb)}})})["finally"](function(){ya=null}).then(function(){ba=!1;return t})["catch"](function(a){try{c&&c.abort()}catch(bb){}ba=!1;t.close();D=a;return E(D)})["finally"](function(){Ra=!0;b()})};this.close=function(){var a=Ta.indexOf(t);0<=a&&Ta.splice(a,1);if(C){try{C.close()}catch(h){}C=
null}ia=!1;D=new r.DatabaseClosed;ba&&ma(D);Sa=new k(function(a){ja=a});na=new k(function(a,b){ma=b})};this["delete"]=function(){var b=0<arguments.length;return new k(function(c,e){function d(){t.close();var b=H.deleteDatabase(a);b.onsuccess=x(function(){Aa||Wa.dbnames["delete"](a)["catch"](u);c()});b.onerror=J(e);b.onblocked=ta}if(b)throw new r.InvalidArgument("Arguments not allowed in db.delete()");ba?Sa.then(d):d()})};this.backendDB=function(){return C};this.isOpen=function(){return null!==C};
this.hasBeenClosed=function(){return D&&D instanceof r.DatabaseClosed};this.hasFailed=function(){return null!==D};this.dynamicallyOpened=function(){return Ua};this.name=a;w(this,{tables:{get:function(){return A(R).map(function(a){return R[a]})}}});this.on=ab(this,"populate","blocked","versionchange",{ready:[Ib,u]});this.on.ready.subscribe=Cb(this.on.ready.subscribe,function(a){return function(b,c){B.vip(function(){Ra?(D||k.resolve().then(b),c&&a(b)):ya?(ya.push(b),c&&a(b)):(a(b),c||a(function Qa(){t.on.ready.unsubscribe(b);
t.on.ready.unsubscribe(Qa)}))})}});this.transaction=function(){var a=Z.apply(this,arguments);return this._transaction.apply(this,a)};this._transaction=function(a,b,c){function e(){return k.resolve().then(function(){var b=n.transless||n,e=t._createTransaction(a,g,F,d);b={trans:e,transless:b};d?e.idbtrans=d.idbtrans:e.create();c.constructor===yc&&ob();var h;b=k.follow(function(){if(h=c.call(e,e))if(h.constructor===Qb){var a=$a.bind(null,null);h.then(a,a)}else"function"===typeof h.next&&"function"===
typeof h["throw"]&&(h=vb(h))},b);return(h&&"function"===typeof h.then?k.resolve(h).then(function(a){return e.active?a:E(new r.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):b.then(function(){return h})).then(function(a){d&&e._resolve();return e._completion.then(function(){return a})})["catch"](function(a){e._reject(a);return E(a)})})}var d=n.trans;d&&d.db===t&&-1===a.indexOf("!")||(d=null);var h=-1!==a.indexOf("?");a=a.replace("!","").replace("?","");try{var g=b.map(function(a){a=
a instanceof K?a.name:a;if("string"!==typeof a)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return a});if("r"==a||"readonly"==a)a="readonly";else if("rw"==a||"readwrite"==a)a="readwrite";else throw new r.InvalidArgument("Invalid transaction mode: "+a);if(d){if("readonly"===d.mode&&"readwrite"===a)if(h)d=null;else throw new r.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");d&&g.forEach(function(a){if(d&&
-1===d.storeNames.indexOf(a))if(h)d=null;else throw new r.SubTransaction("Table "+a+" not included in parent transaction.");});h&&d&&!d.active&&(d=null)}}catch(l){return d?d._promise(null,function(a,b){b(l)}):E(l)}return d?d._promise(a,e,"lock"):n.trans?Pa(n.transless,function(){return t._whenReady(e)}):t._whenReady(e)};this.table=function(a){if(!M.call(R,a))throw new r.InvalidTable("Table "+a+" does not exist");return R[a]};w(K.prototype,{_trans:function(a,b,c){var e=this._tx||n.trans;return e&&
e.db===t?e===n.trans?e._promise(a,b,c):ua(function(){return e._promise(a,b,c)},{trans:e,transless:n.transless||n}):U(a,[this.name],b)},_idbstore:function(a,b,c){var e=this.name;return this._trans(a,function(a,c,g){if(-1===g.storeNames.indexOf(e))throw new r.NotFound("Table"+e+" not part of transaction");return b(a,c,g.idbtrans.objectStore(e),g)},c)},get:function(a,b){if(a&&a.constructor===Object)return this.where(a).first(b);var c=this;return this._idbstore("readonly",function(b,e,d){var g=d.get(a);
g.onerror=J(e);g.onsuccess=x(function(){b(c.hook.reading.fire(g.result))},e)}).then(b)},where:function(a){if("string"===typeof a)return new la(this,a);if(T(a))return new la(this,"["+a.join("+")+"]");var b=A(a);if(1===b.length)return this.where(b[0]).equals(a[b[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(a){return a.compound&&b.every(function(b){return 0<=a.keyPath.indexOf(b)})&&a.keyPath.every(function(a){return 0<=b.indexOf(a)})})[0];if(c&&Xa!==Ka)return this.where(c.name).equals(c.keyPath.map(function(b){return a[b]}));
c||console.warn("The query "+JSON.stringify(a)+" on "+this.name+" would benefit of a "+("compound index ["+b.join("+")+"]"));var e=this.schema.idxByName,d=b.reduce(function(b,c){return[b[0]||e[c],b[0]||!e[c]?wa(b[1],function(b){return""+Q(b,c)==""+a[c]}):b[1]]},[null,null]),f=d[0];return f?this.where(f.name).equals(a[f.keyPath]).filter(d[1]):c?this.filter(d[1]):this.where(b).equals("")},count:function(a){return this.toCollection().count(a)},offset:function(a){return this.toCollection().offset(a)},
limit:function(a){return this.toCollection().limit(a)},reverse:function(){return this.toCollection().reverse()},filter:function(a){return this.toCollection().and(a)},each:function(a){return this.toCollection().each(a)},toArray:function(a){return this.toCollection().toArray(a)},orderBy:function(a){return new G(new la(this,T(a)?"["+a.join("+")+"]":a))},toCollection:function(){return new G(new la(this))},mapToClass:function(a,b){this.schema.mappedClass=a;var c=Object.create(a.prototype);b&&wb(c,b);this.schema.instanceTemplate=
c;c=function(b){if(!b)return b;var c=Object.create(a.prototype),e;for(e in b)if(M.call(b,e))try{c[e]=b[e]}catch(g){}return c};this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook);this.schema.readHook=c;this.hook("reading",c);return a},defineClass:function(a){return this.mapToClass(B.defineClass(a),a)},bulkDelete:function(a){return this.hook.deleting.fire===u?this._idbstore("readwrite",function(b,c,e,d){b(aa(e,d,a,!1,u))}):this.where(":id").anyOf(a)["delete"]().then(function(){})},
bulkPut:function(a,b){var c=this;return this._idbstore("readwrite",function(d,e,h){if(!h.keyPath&&!c.schema.primKey.auto&&!b)throw new r.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(h.keyPath&&b)throw new r.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==a.length)throw new r.InvalidArgument("Arguments objects and keys must have the same length");if(0===a.length)return d();var g=function(a){0===l.length?
d(a):e(new Na(c.name+".bulkPut(): "+l.length+" of "+p+" operations failed",l))},l=[],p=a.length;if(c.hook.creating.fire===u&&c.hook.updating.fire===u){var f=L(l);for(var k=0,m=a.length;k<m;++k){var n=b?h.put(a[k],b[k]):h.put(a[k]);n.onerror=f}n.onerror=L(l,g);n.onsuccess=Ya(g)}else{var O=b||h.keyPath&&a.map(function(a){return Q(a,h.keyPath)}),ka=O&&Eb(O,function(b,c){return null!=b&&[b,a[c]]});(O?c.where(":id").anyOf(O.filter(function(a){return null!=a})).modify(function(){this.value=ka[this.primKey];
ka[this.primKey]=null})["catch"](Za,function(a){l=a.failures}).then(function(){for(var g=[],d=b&&[],e=O.length-1;0<=e;--e){var l=O[e];if(null==l||ka[l])g.push(a[e]),b&&d.push(l),null!=l&&(ka[l]=null)}g.reverse();b&&d.reverse();return c.bulkAdd(g,d)}).then(function(a){var b=O[O.length-1];return null!=b?b:a}):c.bulkAdd(a)).then(g)["catch"](Na,function(a){l=l.concat(a.failures);g()})["catch"](e)}},"locked")},bulkAdd:function(a,b){var c=this,d=this.hook.creating.fire;return this._idbstore("readwrite",
function(e,h,g,l){function p(a){0===f.length?e(a):h(new Na(c.name+".bulkAdd(): "+f.length+" of "+k+" operations failed",f))}if(!g.keyPath&&!c.schema.primKey.auto&&!b)throw new r.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(g.keyPath&&b)throw new r.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==a.length)throw new r.InvalidArgument("Arguments objects and keys must have the same length");if(0===a.length)return e();
var f=[],k=a.length;if(d!==u){var m=g.keyPath,n;var O=L(f,null,!0);var ka=Ia(null);Ma(function(){for(var c=0,e=a.length;c<e;++c){n={onerror:null,onsuccess:null};var h=b&&b[c],p=a[c],f=b?h:m?Q(p,m):void 0,y=d.call(n,f,p,l);null==f&&null!=y&&(m?(p=oa(p),I(p,m,y)):h=y);q=null!=h?g.add(p,h):g.add(p);q._hookCtx=n;c<e-1&&(q.onerror=O,n.onsuccess&&(q.onsuccess=ka))}},function(a){n.onerror&&n.onerror(a);throw a;});q.onerror=L(f,p,!0);q.onsuccess=Ia(p)}else{O=L(f);for(var t=0,V=a.length;t<V;++t){var q=b?g.add(a[t],
b[t]):g.add(a[t]);q.onerror=O}q.onerror=L(f,p);q.onsuccess=Ya(p)}})},add:function(a,b){var c=this.hook.creating.fire;return this._idbstore("readwrite",function(d,e,h,g){var l={onsuccess:null,onerror:null};if(c!==u){var p=null!=b?b:h.keyPath?Q(a,h.keyPath):void 0;g=c.call(l,p,a,g);null==p&&null!=g&&(h.keyPath?I(a,h.keyPath,g):b=g)}try{var f=null!=b?h.add(a,b):h.add(a);f._hookCtx=l;f.onerror=db(e);f.onsuccess=Ia(function(b){var c=h.keyPath;c&&I(a,c,b);d(b)})}catch(cb){if(l.onerror)l.onerror(cb);throw cb;
}})},put:function(a,b){var c=this,d=this.hook.updating.fire;if(this.hook.creating.fire!==u||d!==u){d=this.schema.primKey.keyPath;var e=void 0!==b?b:d&&Q(a,d);if(null==e)return this.add(a);a=oa(a);return this._trans("readwrite",function(){return c.where(":id").equals(e).modify(function(){this.value=a}).then(function(d){return 0===d?c.add(a,b):e})},"locked")}return this._idbstore("readwrite",function(c,g,d){var e=void 0!==b?d.put(a,b):d.put(a);e.onerror=J(g);e.onsuccess=x(function(b){var g=d.keyPath;
g&&I(a,g,b.target.result);c(e.result)})})},"delete":function(a){return this.hook.deleting.subscribers.length?this.where(":id").equals(a)["delete"]():this._idbstore("readwrite",function(b,c,d){var e=d["delete"](a);e.onerror=J(c);e.onsuccess=x(function(){b(e.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection()["delete"]():this._idbstore("readwrite",function(a,b,c){var d=c.clear();d.onerror=J(b);d.onsuccess=x(function(){a(d.result)})})},update:function(a,b){if("object"!==
typeof b||T(b))throw new r.InvalidArgument("Modifications must be an object.");if("object"!==typeof a||T(a))return this.where(":id").equals(a).modify(b);A(b).forEach(function(c){I(a,c,b[c])});var c=Q(a,this.schema.primKey.keyPath);return void 0===c?E(new r.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(b)}});w(va.prototype,{_lock:function(){La(!n.global);++this._reculock;1!==this._reculock||n.global||(n.lockOwnerFor=this);return this},_unlock:function(){La(!n.global);
if(0===--this._reculock)for(n.global||(n.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Pa(a[1],a[0])}catch(h){}}return this},_locked:function(){return this._reculock&&n.lockOwnerFor!==this},create:function(a){var b=this;if(!this.mode)return this;La(!this.idbtrans);if(!a&&!C)switch(D&&D.name){case "DatabaseClosedError":throw new r.DatabaseClosed(D);case "MissingAPIError":throw new r.MissingAPI(D.message,D);default:throw new r.OpenFailed(D);}if(!this.active)throw new r.TransactionInactive;
La(null===this._completion._state);a=this.idbtrans=a||C.transaction(tb(this.storeNames),this.mode);a.onerror=x(function(c){Va(c);b._reject(a.error)});a.onabort=x(function(c){Va(c);b.active&&b._reject(new r.Abort(a.error));b.active=!1;b.on("abort").fire(c)});a.oncomplete=x(function(){b.active=!1;b._resolve()});return this},_promise:function(a,b,c){var d=this;if("readwrite"===a&&"readwrite"!==this.mode)return E(new r.ReadOnly("Transaction is readonly"));if(!this.active)return E(new r.TransactionInactive);
if(this._locked())return new k(function(e,g){d._blockedFuncs.push([function(){d._promise(a,b,c).then(e,g)},n])});if(c)return ua(function(){var a=new k(function(a,c){d._lock();var g=b(a,c,d);g&&g.then&&g.then(a,c)});a["finally"](function(){return d._unlock()});a._lib=!0;return a});var e=new k(function(a,c){var g=b(a,c,d);g&&g.then&&g.then(a,c)});e._lib=!0;return e},_root:function(){return this.parent?this.parent._root():this},waitFor:function(a){var b=this._root();a=k.resolve(a);if(b._waitingFor)b._waitingFor=
b._waitingFor.then(function(){return a});else{b._waitingFor=a;b._waitingQueue=[];var c=b.idbtrans.objectStore(b.storeNames[0]);(function V(){for(++b._spinCount;b._waitingQueue.length;)b._waitingQueue.shift()();b._waitingFor&&(c.get(-Infinity).onsuccess=V)})()}var d=b._waitingFor;return new k(function(c,e){a.then(function(a){return b._waitingQueue.push(x(c.bind(null,a)))},function(a){return b._waitingQueue.push(x(e.bind(null,a)))})["finally"](function(){b._waitingFor===d&&(b._waitingFor=null)})})},
abort:function(){this.active&&this._reject(new r.Abort);this.active=!1},tables:{get:hc("Transaction.tables",function(){return R})},table:function(a){var b=t.table(a);return new K(a,b.schema,this)}});w(la.prototype,function(){function a(a,b,c){a=a instanceof la?new G(a):a;a._ctx.error=c?new c(b):new TypeError(b);return a}function b(a){return(new G(a,function(){return W.only("")})).limit(0)}function c(a){return"next"===a?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function d(a){return"next"===
a?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function f(a,b,c,d,e,f){for(var g=Math.min(a.length,d.length),l=-1,p=0;p<g;++p){var h=b[p];if(h!==d[p])return 0>e(a[p],c[p])?a.substr(0,p)+c[p]+c.substr(p+1):0>e(a[p],d[p])?a.substr(0,p)+d[p]+c.substr(p+1):0<=l?a.substr(0,l)+b[l]+c.substr(l+1):null;0>e(a[p],h)&&(l=p)}return g<d.length&&"next"===f?a+c.substr(a.length):g<a.length&&"prev"===f?a.substr(0,c.length):0>l?null:a.substr(0,l)+d[l]+c.substr(l+1)}function k(b,e,p,h){function g(a){l=
c(a);k=d(a);y="next"===a?Ca:Da;var b=p.map(function(a){return{lower:k(a),upper:l(a)}}).sort(function(a,b){return y(a.lower,b.lower)});m=b.map(function(a){return a.upper});n=b.map(function(a){return a.lower});q=a;r="next"===a?"":h}var l,k,y,m,n,q,r,t=p.length;if(!p.every(function(a){return"string"===typeof a}))return a(b,"String expected.");g("next");b=new G(b,function(){return W.bound(m[0],n[t-1]+h)});b._ondirectionchange=function(a){g(a)};var u=0;b._addAlgorithm(function(a,b,c){var d=a.key;if("string"!==
typeof d)return!1;var g=k(d);if(e(g,n,u))return!0;for(var l=null,p=u;p<t;++p){var h=f(d,g,m[p],n[p],y,q);if(null===h&&null===l)u=p+1;else if(null===l||0<y(l,h))l=h}null!==l?b(function(){a["continue"](l+r)}):b(c);return!1});return b}return{between:function(c,d,e,f){e=!1!==e;f=!0===f;try{return 0<H.cmp(c,d)||!(0!==H.cmp(c,d)||!e&&!f||e&&f)?b(this):new G(this,function(){return W.bound(c,d,!e,!f)})}catch(cb){return a(this,"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.")}},
equals:function(a){return new G(this,function(){return W.only(a)})},above:function(a){return new G(this,function(){return W.lowerBound(a,!0)})},aboveOrEqual:function(a){return new G(this,function(){return W.lowerBound(a)})},below:function(a){return new G(this,function(){return W.upperBound(a,!0)})},belowOrEqual:function(a){return new G(this,function(){return W.upperBound(a)})},startsWith:function(b){return"string"!==typeof b?a(this,"String expected."):this.between(b,b+Ka,!0,!0)},startsWithIgnoreCase:function(a){return""===
a?this.startsWith(a):k(this,function(a,b){return 0===a.indexOf(b[0])},[a],Ka)},equalsIgnoreCase:function(a){return k(this,function(a,b){return a===b[0]},[a],"")},anyOfIgnoreCase:function(){var a=pa.apply(za,arguments);return 0===a.length?b(this):k(this,function(a,b){return-1!==b.indexOf(a)},a,"")},startsWithAnyOfIgnoreCase:function(){var a=pa.apply(za,arguments);return 0===a.length?b(this):k(this,function(a,b){return b.some(function(b){return 0===a.indexOf(b)})},a,Ka)},anyOf:function(){var c=pa.apply(za,
arguments),d=S;try{c.sort(d)}catch(cb){return a(this,"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.")}if(0===c.length)return b(this);var e=new G(this,function(){return W.bound(c[0],c[c.length-1])});e._ondirectionchange=function(a){d="next"===a?S:Y;c.sort(d)};var f=0;e._addAlgorithm(function(a,b,g){for(var e=a.key;0<d(e,c[f]);)if(++f,f===c.length)return b(g),!1;if(0===d(e,c[f]))return!0;b(function(){a["continue"](c[f])});return!1});return e},notEqual:function(a){return this.inAnyRange([[-Infinity,
a],[a,Xa]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var b=pa.apply(za,arguments);if(0===b.length)return new G(this);try{b.sort(S)}catch(p){return a(this,"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.")}var c=b.reduce(function(a,b){return a?a.concat([[a[a.length-1][1],b]]):[[-Infinity,b]]},null);c.push([b[b.length-1],Xa]);return this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(c,d){function g(a,b){for(var c=
0,d=a.length;c<d;++c){var g=a[c];if(0>H.cmp(b[0],g[1])&&0<H.cmp(b[1],g[0])){var e=g;var l=g[0];var f=b[0];l=0>H.cmp(l,f)?l:f;e[0]=l;e=g;g=g[1];l=b[1];g=0<H.cmp(g,l)?g:l;e[1]=g;break}}c===d&&a.push(b);return a}function e(a,b){return k(a[0],b[0])}function l(a){return!q(a)&&!t(a)}if(0===c.length)return b(this);if(!c.every(function(a){return void 0!==a[0]&&void 0!==a[1]&&0>=S(a[0],a[1])}))return a(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",
r.InvalidArgument);var f=!d||!1!==d.includeLowers,h=d&&!0===d.includeUppers,k=S;try{var m=c.reduce(g,[]);m.sort(e)}catch(Gc){return a(this,"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.")}var n=0,q=h?function(a){return 0<S(a,m[n][1])}:function(a){return 0<=S(a,m[n][1])},t=f?function(a){return 0<Y(a,m[n][0])}:function(a){return 0<=Y(a,m[n][0])},u=q,v=new G(this,function(){return W.bound(m[0][0],m[m.length-1][1],!f,!h)});v._ondirectionchange=function(a){"next"===
a?(u=q,k=S):(u=t,k=Y);m.sort(e)};v._addAlgorithm(function(a,b,c){for(var d=a.key;u(d);)if(++n,n===m.length)return b(c),!1;if(l(d))return!0;0!==H.cmp(d,m[n][1])&&0!==H.cmp(d,m[n][0])&&b(function(){k===S?a["continue"](m[n][0]):a["continue"](m[n][1])});return!1});return v},startsWithAnyOf:function(){var c=pa.apply(za,arguments);return c.every(function(a){return"string"===typeof a})?0===c.length?b(this):this.inAnyRange(c.map(function(a){return[a,a+Ka]})):a(this,"startsWithAnyOf() only works with strings")}}});
w(G.prototype,function(){function a(a,b){a.filter=wa(a.filter,b)}function b(a,b,c){var d=a.replayFilter;a.replayFilter=d?function(){return wa(d(),b())}:b;a.justLimit=c&&!d}function c(a,b){a.isMatch=wa(a.isMatch,b)}function d(a,b){if(a.isPrimKey)return b;var c=a.table.schema.idxByName[a.index];if(!c)throw new r.Schema("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return b.index(c.name)}function f(a,b){var c=d(a,b);return a.keysOnly&&"openKeyCursor"in c?c.openKeyCursor(a.range||null,
a.dir+a.unique):c.openCursor(a.range||null,a.dir+a.unique)}function k(a,b,c,d,e){var g=a.replayFilter?wa(a.filter,a.replayFilter()):a.filter;a.or?function(){function l(){2===++k&&c()}function p(a,c,e){if(!g||g(c,e,l,d)){var f=c.primaryKey,p=""+f;"[object ArrayBuffer]"===p&&(p=""+new Uint8Array(f));M.call(h,p)||(h[p]=!0,b(a,c,e))}}var h={},k=0;a.or._iterate(p,l,d,e);qa(f(a,e),a.algorithm,p,l,d,!a.keysOnly&&a.valueMapper)}():qa(f(a,e),wa(a.algorithm,g),b,c,d,!a.keysOnly&&a.valueMapper)}return{_read:function(a,
b){var c=this._ctx;return c.error?c.table._trans(null,E.bind(null,c.error)):c.table._idbstore("readonly",a).then(b)},_write:function(a){var b=this._ctx;return b.error?b.table._trans(null,E.bind(null,b.error)):b.table._idbstore("readwrite",a,"locked")},_addAlgorithm:function(a){var b=this._ctx;b.algorithm=wa(b.algorithm,a)},_iterate:function(a,b,c,d){return k(this._ctx,a,b,c,d)},clone:function(a){var b=Object.create(this.constructor.prototype),c=Object.create(this._ctx);a&&q(c,a);b._ctx=c;return b},
raw:function(){this._ctx.valueMapper=null;return this},each:function(a){var b=this._ctx;return this._read(function(c,d,e){k(b,a,c,d,e)})},count:function(a){var b=this._ctx;if(P(b,!0))return this._read(function(a,c,e){e=d(b,e);e=b.range?e.count(b.range):e.count();e.onerror=J(c);e.onsuccess=function(c){a(Math.min(c.target.result,b.limit))}},a);var c=0;return this._read(function(a,d,e){k(b,function(){++c;return!1},function(){a(c)},d,e)},a)},sortBy:function(a,b){function c(a,b){return b?c(a[e[b]],b-1):
a[g]}function d(a,b){var d=c(a,f),e=c(b,f);return d<e?-l:d>e?l:0}var e=a.split(".").reverse(),g=e[0],f=e.length-1,l="next"===this._ctx.dir?1:-1;return this.toArray(function(a){return a.sort(d)}).then(b)},toArray:function(a){var b=this._ctx;return this._read(function(a,c,e){if(eb&&"next"===b.dir&&P(b,!0)&&0<b.limit){var f=b.table.hook.reading.fire;e=d(b,e);e=Infinity>b.limit?e.getAll(b.range,b.limit):e.getAll(b.range);e.onerror=J(c);e.onsuccess=f===Oa?Ya(a):Ya(function(b){try{a(b.map(f))}catch(ka){c(ka)}})}else{var g=
[];k(b,function(a){g.push(a)},function(){a(g)},c,e)}},a)},offset:function(a){var c=this._ctx;if(0>=a)return this;c.offset+=a;P(c)?b(c,function(){var b=a;return function(a,c){if(0===b)return!0;if(1===b)return--b,!1;c(function(){a.advance(b);b=0});return!1}}):b(c,function(){var b=a;return function(){return 0>--b}});return this},limit:function(a){this._ctx.limit=Math.min(this._ctx.limit,a);b(this._ctx,function(){var b=a;return function(a,c,d){0>=--b&&c(d);return 0<=b}},!0);return this},until:function(b,
c){a(this._ctx,function(a,d,e){return b(a.value)?(d(e),c):!0});return this},first:function(a){return this.limit(1).toArray(function(a){return a[0]}).then(a)},last:function(a){return this.reverse().first(a)},filter:function(b){a(this._ctx,function(a){return b(a.value)});c(this._ctx,b);return this},and:function(a){return this.filter(a)},or:function(a){return new la(this._ctx.table,a,this)},reverse:function(){this._ctx.dir="prev"===this._ctx.dir?"next":"prev";this._ondirectionchange&&this._ondirectionchange(this._ctx.dir);
return this},desc:function(){return this.reverse()},eachKey:function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.key,c)})},eachUniqueKey:function(a){this._ctx.unique="unique";return this.eachKey(a)},eachPrimaryKey:function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.primaryKey,c)})},keys:function(a){var b=this._ctx;b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.key)}).then(function(){return c}).then(a)},primaryKeys:function(a){var b=
this._ctx;if(eb&&"next"===b.dir&&P(b,!0)&&0<b.limit)return this._read(function(a,c,e){e=d(b,e);e=Infinity>b.limit?e.getAllKeys(b.range,b.limit):e.getAllKeys(b.range);e.onerror=J(c);e.onsuccess=Ya(a)}).then(a);b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.primaryKey)}).then(function(){return c}).then(a)},uniqueKeys:function(a){this._ctx.unique="unique";return this.keys(a)},firstKey:function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)},lastKey:function(a){return this.reverse().firstKey(a)},
distinct:function(){var b=this._ctx;b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var c={};a(this._ctx,function(a){a=a.primaryKey.toString();var b=M.call(c,a);c[a]=!0;return!b});return this},modify:function(a){var b=this,c=this._ctx.table.hook,d=c.updating.fire,e=c.deleting.fire;return this._write(function(c,f,g,h){function k(a){a&&(w.push(a),x.push(y));return f(new Za("Error modifying one or more objects",w,v,x))}function m(){ca&&v+w.length===r&&(0<w.length?k():c(v))}if("function"===
typeof a)var l=d===u&&e===u?a:function(b){var c=oa(b);if(!1===a.call(this,b,this))return!1;if(M.call(this,"value")){var f=gb(c,this.value),g=d.call(this,f,this.primKey,c,h);g&&(b=this.value,A(g).forEach(function(a){I(b,a,g[a])}))}else e.call(this,this.primKey,b,h)};else if(d===u){var p=A(a),n=p.length;l=function(b){for(var c=!1,d=0;d<n;++d){var e=p[d],f=a[e];Q(b,e)!==f&&(I(b,e,f),c=!0)}return c}}else{var t=a;a=fb(t);l=function(b){var c=!1,e=d.call(this,a,this.primKey,oa(b),h);e&&q(a,e);A(a).forEach(function(d){var e=
a[d];Q(b,d)!==e&&(I(b,d,e),c=!0)});e&&(a=fb(t));return c}}var r=0,v=0,ca=!1,w=[],x=[],y=null;b.clone().raw()._iterate(function(a,b){function c(a){w.push(a);x.push(d.primKey);m();return!0}y=b.primaryKey;var d={primKey:b.primaryKey,value:a,onsuccess:null,onerror:null};if(!1!==l.call(d,a,d)){var e=!M.call(d,"value");++r;Ma(function(){var a=e?b["delete"]():b.update(d.value);a._hookCtx=d;a.onerror=db(c);a.onsuccess=Ia(function(){++v;m()})},c)}else if(d.onsuccess)d.onsuccess(d.value)},function(){ca=!0;
m()},k,g)})},"delete":function(){var a=this,b=this._ctx,c=b.range,d=b.table.hook.deleting.fire,e=d!==u;if(!e&&P(b)&&(b.isPrimKey&&!zc||!c))return this._write(function(a,b,d){var e=J(b),f=c?d.count(c):d.count();f.onerror=e;f.onsuccess=function(){var g=f.result;Ma(function(){var b=c?d["delete"](c):d.clear();b.onerror=e;b.onsuccess=function(){return a(g)}},function(a){return b(a)})}});var f=e?2E3:1E4;return this._write(function(c,g,h,k){var m=0,l=a.clone({keysOnly:!b.isMatch&&!e}).distinct().limit(f).raw(),
n=[],p=function(){return l.each(e?function(a,b){n.push([b.primaryKey,b.value])}:function(a,b){n.push(b.primaryKey)}).then(function(){e?n.sort(function(a,b){return S(a[0],b[0])}):n.sort(S);return aa(h,k,n,e,d)}).then(function(){var a=n.length;m+=a;n=[];return a<f?m:p()})};c(p())})}}});q(this,{Collection:G,Table:K,Transaction:va,Version:c,WhereClause:la});(function(){t.on("versionchange",function(a){0<a.newVersion?console.warn("Another connection wants to upgrade database '"+t.name+"'. Closing db now to resume the upgrade."):
console.warn("Another connection wants to delete database '"+t.name+"'. Closing db now to resume the delete request.");t.close()});t.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?console.warn("Dexie.delete('"+t.name+"') was blocked"):console.warn("Upgrade '"+t.name+"' blocked by other connection holding version "+a.oldVersion/10)})})();Fa.forEach(function(a){a(t)})}function Wb(a){if("function"===typeof a)return new a;if(T(a))return[Wb(a[0])];if(a&&"object"===typeof a){var b={};
wb(b,a);return b}return a}function wb(a,b){A(b).forEach(function(c){var d=Wb(b[c]);a[c]=d});return a}function Ia(a){return x(function(b){var c=b.target;b=c._hookCtx;c=b.value||c.result;(b=b&&b.onsuccess)&&b(c);a&&a(c)},a)}function J(a){return x(function(b){Va(b);a(b.target.error);return!1})}function Ya(a){return x(function(b){a(b.target.result)})}function db(a){return x(function(b){var c=b.target,d=c.error;(c=(c=c._hookCtx)&&c.onerror)&&c(d);Va(b);a(d);return!1})}function Va(a){a.stopPropagation&&
a.stopPropagation();a.preventDefault&&a.preventDefault()}function vb(a){function b(a){return function(b){b=a(b);var c=b.value;return b.done?c:c&&"function"===typeof c.then?c.then(d,f):T(c)?k.all(c).then(d,f):d(c)}}var c=function(b){return a.next(b)},d=b(c),f=b(function(b){return a["throw"](b)});return b(c)()}function Ja(a,b,c,d,f,k,n){this.name=a;this.keyPath=b;this.unique=c;this.multi=d;this.auto=f;this.compound=k;this.dotted=n;a="string"===typeof b?b:b&&"["+[].join.call(b,"+")+"]";this.src=(c?"&":
"")+(d?"*":"")+(f?"++":"")+a}function ub(a,b,c,d){this.name=a;this.primKey=b||new Ja;this.indexes=c||[new Ja];this.instanceTemplate=d;this.mappedClass=null;this.idxByName=Eb(c,function(a){return[a.name,a]})}function tb(a){return 1===a.length?a[0]:a}function Vb(a){var b=a&&(a.getDatabaseNames||a.webkitGetDatabaseNames);return b&&b.bind(a)}var A=Object.keys,T=Array.isArray,v="undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ab=Object.getPrototypeOf,M={}.hasOwnProperty,cc=Object.defineProperty,
dc=Object.getOwnPropertyDescriptor,sb=[].slice,Ub=[].concat,ec="Boolean String Date RegExp Blob File FileList ArrayBuffer DataView Uint8ClampedArray ImageData Map Set".split(" ").concat(Ub.apply([],[8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(b){return b+a+"Array"})}))).filter(function(a){return v[a]}).map(function(a){return v[a]});$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var Xb="undefined"!==typeof Symbol&&Symbol.iterator,fc=Xb?function(a){var b;
return null!=a&&(b=a[Xb])&&b.apply(a)}:function(){return null},za={},da="undefined"!==typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),Hb=function(){return!0},gc=!Error("").stack,Yb="Unknown Constraint Data TransactionInactive ReadOnly Version NotFound InvalidState InvalidAccess Abort Timeout QuotaExceeded Syntax DataClone".split(" "),xb="Modify Bulk OpenFailed VersionChange Schema Upgrade InvalidTable MissingAPI NoSuchDatabase InvalidArgument SubTransaction Unsupported Internal DatabaseClosed PrematureCommit ForeignAwait".split(" ").concat(Yb),
Ac={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};P(L).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+qa(this._e,2))}},toString:function(){return this.name+": "+this.message}});P(Za).from(L);P(Na).from(L);var Bc=xb.reduce(function(a,b){return a[b]=b+"Error",a},{}),r=xb.reduce(function(a,
b){function c(a,c){this._e=ea();this.name=d;a?"string"===typeof a?(this.message=a,this.inner=c||null):"object"===typeof a&&(this.message=a.name+" "+a.message,this.inner=a):(this.message=Ac[b]||d,this.inner=null)}var d=b+"Error";P(c).from(L);a[b]=c;return a},{});r.Syntax=SyntaxError;r.Type=TypeError;r.Range=RangeError;var Zb=Yb.reduce(function(a,b){a[b+"Error"]=r[b];return a},{}),ma=xb.reduce(function(a,b){-1===["Syntax","Type","Range"].indexOf(b)&&(a[b+"Error"]=r[b]);return a},{});ma.ModifyError=
Za;ma.DexieError=L;ma.BulkError=Na;var ra={},na=function(){try{return(new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];"))()}catch(b){var a=v.Promise;return a?[a.resolve(),a.prototype,a.resolve()]:[]}}(),rb=na[0],ia=na[1],yb=na[2],vc=ia&&ia.then,Qb=rb&&rb.constructor,yc=na[3],nb=!!yb,ib=!1,Cc=yb?function(){yb.then(Da)}:v.setImmediate?setImmediate.bind(null,Da):v.MutationObserver?function(){var a=document.createElement("div");(new MutationObserver(function(){Da();
a=null})).observe(a,{attributes:!0});a.setAttribute("i","1")}:function(){setTimeout(Da,0)},fa=function(a,b){sa.push([a,b]);Ea&&(Cc(),Ea=!1)},mb=!0,Ea=!0,K=[],Ca=[],lb=null,hb=Oa,aa={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Sb,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(a){try{Sb(a[0],a[1])}catch(b){}})}},n=aa,sa=[],Z=0,ha=[],zb={get:function(){function a(a,f){var d=this,q=!b.global&&(b!==n||c!==pb);q&&$a();var r=new k(function(c,k){jb(d,new Kb(ja(a,b,q),ja(f,b,
q),c,k,b))});da&&Nb(r,this);return r}var b=n,c=pb;a.prototype=ra;return a},set:function(a){X(this,"then",a&&a.prototype===ra?zb:{get:function(){return a},set:zb.set})}};w(k.prototype,{then:zb,_then:function(a,b){jb(this,new Kb(null,null,a,b,n))},"catch":function(a){if(1===arguments.length)return this.then(null,a);var b=arguments[0],c=arguments[1];return"function"===typeof b?this.then(null,function(a){return a instanceof b?c(a):ta(a)}):this.then(null,function(a){return a&&a.name===b?c(a):ta(a)})},
"finally":function(a){return this.then(function(b){a();return b},function(b){a();return ta(b)})},stack:{get:function(){if(this._stack)return this._stack;try{ib=!0;var a=Mb(this,[],20).join("\nFrom previous: ");null!==this._state&&(this._stack=a);return a}finally{ib=!1}}},timeout:function(a,b){var c=this;return Infinity>a?new k(function(d,f){var k=setTimeout(function(){return f(new r.Timeout(b))},a);c.then(d,f)["finally"](clearTimeout.bind(null,k))}):this}});$jscomp.initSymbol();$jscomp.initSymbol();
"undefined"!==typeof Symbol&&Symbol.toStringTag&&($jscomp.initSymbol(),X(k.prototype,Symbol.toStringTag,"Promise"));aa.env=Rb();w(k,{all:function(){var a=pa.apply(null,arguments).map(Pb);return new k(function(b,c){0===a.length&&b([]);var d=a.length;a.forEach(function(f,m){return k.resolve(f).then(function(c){a[m]=c;--d||b(a)},c)})})},resolve:function(a){if(a instanceof k)return a;if(a&&"function"===typeof a.then)return new k(function(b,d){a.then(b,d)});var b=new k(ra,!0,a);Nb(b,lb);return b},reject:ta,
race:function(){var a=pa.apply(null,arguments).map(Pb);return new k(function(b,c){a.map(function(a){return k.resolve(a).then(b,c)})})},PSD:{get:function(){return n},set:function(a){return n=a}},newPSD:ua,usePSD:Pa,scheduler:{get:function(){return fa},set:function(a){fa=a}},rejectionMapper:{get:function(){return hb},set:function(a){hb=a}},follow:function(a,b){return new k(function(c,d){return ua(function(b,c){var d=n;d.unhandleds=[];d.onunhandled=c;d.finalize=U(function(){var a=this;qc(function(){0===
a.unhandleds.length?b():c(a.unhandleds[0])})},d.finalize);a()},b,c,d)})}});var z={awaits:0,echoes:0,id:0},sc=0,Fa=[],qb=0,pb=0,rc=0,Tb="unhandledrejection",E=k.reject,Ka=String.fromCharCode(65535);try{IDBKeyRange.only([[]]);var Xa=[[]]}catch(a){Xa=Ka}var Ta=[],$b="undefined"!==typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xc=$b,zc=$b,ac=function(a){return!/(dexie\.js|dexie\.min\.js)/.test(a)};Gb(da,ac);w(B,ma);var Dc=wb,Ec=r.Modify,Fc=ub;try{var bc={indexedDB:v.indexedDB||v.mozIndexedDB||
v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch(a){bc={indexedDB:null,IDBKeyRange:null}}w(B,{"delete":function(a){var b=new B(a);a=b["delete"]();a.onblocked=function(a){b.on("blocked",a);return this};return a},exists:function(a){return(new B(a)).open().then(function(a){a.close();return!0})["catch"](B.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(a){var b=Vb(B.dependencies.indexedDB);return b?(new k(function(a,d){var c=b();c.onsuccess=function(b){a(sb.call(b.target.result,
0,void 0))};c.onerror=J(d)})).then(a):Wa.dbnames.toCollection().primaryKeys(a)},defineClass:function(){return function(a){a&&q(this,a)}},applyStructure:Dc,ignoreTransaction:function(a){return n.trans?Pa(n.transless,a):a()},vip:function(a){return ua(function(){n.letThrough=!0;return a()})},async:function(a){return function(){try{var b=vb(a.apply(this,arguments));return b&&"function"===typeof b.then?b:k.resolve(b)}catch(c){return E(c)}}},spawn:function(a,b,c){try{var d=vb(a.apply(c,b||[]));return d&&
"function"===typeof d.then?d:k.resolve(d)}catch(f){return E(f)}},currentTransaction:{get:function(){return n.trans||null}},waitFor:function(a,b){var c=k.resolve("function"===typeof a?B.ignoreTransaction(a):a).timeout(b||6E4);return n.trans?n.trans.waitFor(c):c},Promise:k,debug:{get:function(){return da},set:function(a){Gb(a,"dexie"===a?function(){return!0}:ac)}},derive:P,extend:q,props:w,override:Cb,Events:ab,getByKeyPath:Q,setByKeyPath:I,delByKeyPath:function(a,b){"string"===typeof b?I(a,b,void 0):
"length"in b&&[].map.call(b,function(b){I(a,b,void 0)})},shallowClone:fb,deepClone:oa,getObjectDiff:gb,asap:Db,maxKey:Xa,minKey:-Infinity,addons:[],connections:Ta,MultiModifyError:Ec,errnames:Bc,IndexSpec:Ja,TableSchema:Fc,dependencies:bc,semVer:"2.0.4",version:["2","0","4"].map(function(a){return parseInt(a)}).reduce(function(a,b,c){return a+b/Math.pow(10,2*c)}),"default":B,Dexie:B});k.rejectionMapper=function(a,b){if(!a||a instanceof L||a instanceof TypeError||a instanceof SyntaxError||!a.name||
!Zb[a.name])return a;var c=new Zb[a.name](b||a.message,a);"stack"in a&&X(c,"stack",{get:function(){return this.inner.stack}});return c};var Wa=new B("__dbnames");Wa.version(1).stores({dbnames:"name"});(function(){try{void 0!==v.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(a){return Wa.dbnames.put({name:a})["catch"](u)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(a){}})();return B});